<h2>Izeni Job Applications</h2>
<div class="row-fluid">
  <span class="span3">
    <label for="filtering"></label>
    <select id="filtering" ng-options="opt for opt in filterOptions" ng-model="filtering" ng-change="filterApplications()">
      <option selected value="">Filter Applications</option>
    </select>
  </span>
  <form class="span3" style="margin: 0">
    <div class="input-append">
      <label for="search"></label>
      <input id="search" ng-model="searchParams" type="search" class="input-large">
      <button class="btn" type="reset" ng-click="searchParams='';filterApplications()"><i class="fa fa-times"></i></button>
      <button class="btn" type="submit" ng-click="filterApplications()"><i class="fa fa-search"></i></button>
    </div>
  </form>
  <div class="span6">
    <pagination class="pull-right" style="margin: 0;" total-items="paginate.count" page="paginate.currentPage" items-per-page="paginate.itemsPerPage" previous-text="&laquo;" next-text="&raquo;"></pagination>
  </div>
</div>
<table class="table table-striped table-bordered">
  <thead>
  <tr>
    <th class="span1" ng-class="{'score': 'sort-by', '-score': 'sort-by'}[sort[0]]" ng-click="setSort('sort', ['score'])">
      Score
      <i class="bold" ng-class="{'score': 'fa fa-angle-down', '-score': 'fa fa-angle-up'}[sort[0]]"></i>
    </th>
    <th class="span2" ng-class="{'last_name': 'sort-by', '-last_name': 'sort-by'}[sort[0]]" ng-click="setSort('sort', ['last_name', 'first_name'])">
      Name
      <i class="bold" ng-class="{'last_name': 'fa fa-angle-down', '-last_name': 'fa fa-angle-up'}[sort[0]]"></i>
    </th>
    <th class="span2" ng-class="{'email': 'sort-by', '-email': 'sort-by'}[sort[0]]" ng-click="setSort('sort', ['email'])">
      Email
      <i class="bold" ng-class="{'email': 'fa fa-angle-down', '-email': 'fa fa-angle-up'}[sort[0]]"></i>
    </th>
    <th class="span2" ng-class="{'available_on': 'sort-by', '-available_on': 'sort-by'}[sort[0]]" ng-click="setSort('sort', ['available_on'])">
      Available On
      <i class="bold" ng-class="{'available_on': 'fa fa-angle-down', '-available_on': 'fa fa-angle-up'}[sort[0]]"></i>
    </th>
    <th class="span2" ng-class="{'job': 'sort-by', '-job': 'sort-by'}[sort[0]]" ng-click="setSort('sort', ['job'])">
      Position
      <i class="bold" ng-class="{'job': 'fa fa-angle-down', '-job': 'fa fa-angle-up'}[sort[0]]"></i>
    </th>
  </tr>
  </thead>
  <tbody>
  <tr ng-repeat="application in applications">
    <td>
      {{ application.score }}
    </td>
    <td>
      <a ui-sref="applications.detail({applicationUUID: application.uuid})">{{ application.first_name }} {{ application.last_name }}</a>
    </td>
    <td>
      <a href="mailto:{{ application.email }}">{{ application.email }}</a>
    </td>
    <td>
      {{ application.available_on | date:'mediumDate' }}
    </td>
    <td>
      {{ application.job }}
    </td>
  </tr>
  </tbody>
</table>
<div class="row-fluid">
  <div class="span12">
    <pagination class="pull-right" style="margin: 0;" total-items="paginate.count" page="paginate.currentPage" items-per-page="paginate.itemsPerPage" previous-text="&laquo;" next-text="&raquo;"></pagination>
  </div>
</div>
